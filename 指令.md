<!--
 * @Description: 指令
 * @Date: 2020-10-05 13:01:16 +0800
 * @Author: JackChouMine
 * @LastEditTime: 2020-10-05 16:09:12 +0800
 * @LastEditors: JackChouMine
-->
# 指令

ng 的指令允许你向 HTML 元素中添加定制功能。非组件指令通常对现有元素进行修改，进一步可分为两种类型：

- 属性指令

  属性指令可改变元素或者组件的外观、样式和行为。比如 `ngClass` 和 `ngStyle` 用于绑定样式。

- 结构化指令

  结构化指令，可通过控制元素的渲染，来改变页面的布局。比如 `ngIf` 和 `ngFor`。

## 内置属性指令

> 通常我们使用类名来称呼指令，所以我们在书写指令时，使用的是`大驼峰`的风格，比如 `NgClass`。而在使用时，采用`小驼峰`的形式，比如 `<div [ngClass]="myClass"></div>`。

`NgClass` 和 `NgStyle` 是的两个处理样式的内置指令，使用它们，可灵活地绑定元素或者组件的样式，类似于 vue  中的 `class` 和 `style` 绑定。

class 属性绑定的缺点，当需要根据条件来绑定多个类时，我们需要根据条件来生成多个字符串，随着条件的增加，代码变得不好维护，而 `NgClass` 可解决这一问题。

NgClass 接收一个对象作为输入，键是一个类名，而键值是布尔值，键值为假值， ng 会把对应的键从元素 class 属性中删除，为真值则把对应的键添加到 class 属性中。

NgClass 在使用时，可以和元素的 class 属性一起使用，NgClass 不会覆盖原来的 class，而是智能合并。

> 在元素多态应用不同类的情况时，NgClass 容易计算和理解，容易进行单元测试。


`NgStyle`和 NgClass 非常相似，接收一个对象，对象的键时 CSS 属性，键值是 CSS 属性值，也可是一个表达式，ng 会把对象编译成行内样式，这和 Vue 的 style 极为相似。

```html
h3 [ngStyle]="nameStyle">{{stock.name}}</h3>
```

TS 代码
```ts
    this.nameStyle = {
      color: 'red',
      width: largeChange ? '150px' : '150px',
      'font-size': '1.5em',
      backgroundColor: 'yellow',
    };
```
> 在书写有`-`的样式属性时，需要转为小驼峰式或者引号包裹原来的属性。

> 内联样式的绑定语法，需要写很多代码，当样式很多时，会比较繁琐，不推荐这种写法。


绑定样式的另一种写法：

```html
[class.class-name]="expression"
[style.css-property]="expression"
```

当表达式为真值时，类名或者 css 会应用到元素上。

